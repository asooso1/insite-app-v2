# Insite App v2.0

> 시설관리 모바일 앱 현대화 프로젝트 (Expo SDK 54 + Tamagui + TypeScript)

## 핵심 규칙 (반드시 준수)

1. **한국어 필수** - 커밋, 주석, 문서 모두 한국어
2. **TypeScript Strict** - `any` 사용 금지
3. **Tamagui Only** - StyleSheet 사용 금지 (네이티브 모듈 제외)
4. **시니어 모드 필수** - 모든 화면은 시니어 모드 지원 ([가이드](./docs/SENIOR-MODE-GUIDE.md))
5. **로직 분리** - UI 컴포넌트에 비즈니스 로직 금지, hooks/로 분리
6. **Lucide Icons** - 이모지 대신 AppIcon 컴포넌트 사용

## 문서

| 용도          | 파일                                                         |
| ------------- | ------------------------------------------------------------ |
| 아키텍처      | [AGENTS.md](./AGENTS.md)                                     |
| 태스크 추적   | [TASK-TRACKER.md](./TASK-TRACKER.md)                         |
| PRD           | [docs/PRD-INSITE-V2-FINAL.md](./docs/PRD-INSITE-V2-FINAL.md) |
| 시니어 가이드 | [docs/SENIOR-MODE-GUIDE.md](./docs/SENIOR-MODE-GUIDE.md)     |

## 제외 기능

- BEMS API (빌딩 에너지 관리) - v2.0 범위 외, v2.1에서 검토
- PC API (PC 연동)

## 빠른 참조

```bash
npm start          # 개발 서버
npm run typecheck  # 타입 체크
npm run lint       # 린트
npm run api:generate  # Orval API 코드 생성
```

## 커밋 규칙

```
[Sprint X.Y] 스프린트 제목

완료된 태스크:
- 태스크 ID: 태스크 설명

Co-Authored-By: Claude <noreply@anthropic.com>
```

**커밋 타입**: feat | fix | refactor | style | docs | test | chore

---

## 행동 가이드라인 (LLM 코딩 실수 감소)

> **트레이드오프:** 이 가이드라인은 속도보다 신중함을 우선시한다. 사소한 작업에는 판단을 사용하라.

### 1. Think Before Coding

**추측하지 말고, 혼란을 숨기지 말고, 트레이드오프를 드러내라.**

구현 전에:

- 가정을 명시하라. 불확실하면 질문하라.
- 여러 해석이 있으면 제시하라. 조용히 선택하지 말라.
- 더 단순한 접근이 있으면 말하라. 필요 시 반박하라.
- 불명확하면 멈추라. 무엇이 혼란스러운지 밝히고 질문하라.

### 2. Simplicity First

**문제를 해결하는 최소한의 코드. 추측성 코드는 없음.**

- 요청된 범위를 넘어서는 기능 금지.
- 1회용 코드에 대한 추상화 금지.
- 요청되지 않은 "유연성"이나 "설정 가능성" 금지.
- 불가능한 시나리오에 대한 에러 핸들링 금지.
- 50줄로 될 것을 200줄로 쓰면 다시 써라.

질문: "시니어 엔지니어가 과하다고 할까?" 예라면 단순화하라.

### 3. Surgical Changes

**필요한 부분만 수정. 자기 mess만 정리하라.**

기존 코드 수정 시:

- 인접 코드, 주석, 포맷을 "개선"하지 말라.
- 깨지지 않은 코드를 리팩터하지 말라.
- 기존 스타일을 따르라. 다르게 하고 싶어도.
- 관련 없는 죽은 코드를 발견하면 언급하고, 삭제하지 말라.

내 변경으로 orphan이 생긴 경우:

- 내 변경으로 사용되지 않게 된 import/변수/함수만 제거.
- 요청받지 않았다면 기존 죽은 코드를 제거하지 말라.

테스트: 변경된 모든 줄이 사용자 요청에 직접 연결되어야 한다.

### 4. Goal-Driven Execution

**성공 기준을 정의하고, 검증될 때까지 반복하라.**

작업을 검증 가능한 목표로 변환:

- "검증 추가" → "잘못된 입력 테스트 작성 → 통과시키기"
- "버그 수정" → "재현 테스트 작성 → 통과시키기"
- "X 리팩터" → "리팩터 전후로 테스트 통과 확인"

다단계 작업에는 간단한 계획을 명시:

```
1. [단계] → 검증: [체크]
2. [단계] → 검증: [체크]
3. [단계] → 검증: [체크]
```

강한 성공 기준은 독립적으로 루프할 수 있게 한다. 약한 기준("작동시키기")은 지속적인 설명이 필요하다.

---

**이 가이드라인이 효과적인 경우:** diff에 불필요한 변경이 줄고, 과도한 복잡성으로 인한 재작성이 줄고, 구현 전에 명확화 질문이 오고, 실수 뒤에 오지 않는다.

---

_상세 아키텍처: [AGENTS.md](./AGENTS.md) | 원본 백업: CLAUDE.md.backup_
